<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap-dark-5@1.1.3/dist/css/bootstrap-night.min.css" rel="stylesheet"> -->
    <link href="bootstrap.min.css" rel="stylesheet">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.1.3/axios.min.js"></script>
</head>

<body>
    <div id="app">
        <nav class="navbar navbar-dark bg-dark">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">Project Manager - Web v1</a>
            </div>
        </nav>
        <br>
        <div class="container-fluid align-middle">
            <div class="row">
                <div class="col-2 align-middle" style="height: 900px;">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">Search</span>
                        </div>
                        <input type="text" class="form-control" v-model="search_str" @input="search_tasks">
                        <div class="input-group-append rounded-0">
                            <span class="input-group-text rounded-right">
                                <button class="btn btn-close" @click="clear_search_box"></button>
                            </span>
                        </div>
                    </div>
                    <span><br></span>

                    <div v-for="task in filtered_tasks" class="card card-rounded card-hover-effect"
                        @click="open_task(task.id)">
                        <div class="card-header">
                            <p class="text-uppercase">{{task.name}}<br><small class="text-uppercase"
                                    style="color: grey;">{{task.category}}</small></p>
                        </div>
                        <div class="card-body" v-if="task.description != ''">
                            <p>{{task.description}}</p>
                        </div>
                    </div>
                </div>


                <div class="col-10">
                    <div class="container overflow-hidden h-80">
                        <div class="row">
                            <ul class="nav nav-tabs">
                                <li class="nav-item">
                                    <button class="nav-link" :class="{active: active_tab == 'tasks'}"
                                        @click="active_tab = 'tasks'">Overview</button>
                                </li>
                                <li class="nav-item">
                                    <button class="nav-link"
                                        :class="{active: active_tab == 'task_details', disabled: task_selected == false}"
                                        @click="active_tab = 'task_details'">
                                        Task Details
                                    </button>
                                </li>
                                <li class="nav-item">
                                    <button class="nav-link" :class="{active: active_tab == 'stats'}"
                                        @click="active_tab = 'stats'">
                                        Stats
                                    </button>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="container tab" v-if="active_tab == 'tasks'">
                        <br>
                        <div class="row">
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                                    data-bs-target="#new_task_modal">New Task</button>
                                <input class="btn-check" type="checkbox" value="" v-model="show_description"
                                    id="show_desc_btn">
                                <label class="btn btn-outline-primary" for="show_desc_btn">Toggle Description</label>
                                <button class="btn btn-primary" @click="get_all">Refresh List</button>
                            </div>
                        </div>
                        <br>

                        <div class="accordion bg-primary" id="accordionExample">
                            <div class="accordion-item">
                              <h2 class="accordion-header" id="headingOne">
                                <div class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                  New: {{stats.new}}
                                </div>
                              </h2>
                              <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                                <div class="accordion-body">
                                    <div class="row" v-for="task in get_status_tasks('NEW')" >
                                        <div class="card card-rounded card-hover-effect-small align-start">
                                            <div class="card-header" @click="open_task(task.id)">
                                                <div class="float-end">
                                                    <small class="fst-italic text-uppercase"
                                                        style="color: grey;">{{task.status}}</small>
                                                    <br>
                                                    <small class="fst-italic text-lowercase"
                                                        v-for="tag in task.tags">{{tag}}</small>
                                                </div>
                                                <h5 class="text-uppercase">{{task.name}}</h5>
                                                <small class="fst-italic text-uppercase"
                                                    style="color: grey;">{{task.category}}</small>
                                            </div>
                                            <div class="card-body" v-if="task.description != '' && show_description">
                                                <strong v-if="task.description != ''">Description:</strong>
                                                <p class="card-text-small fw-light fst-italic">{{ task.description }}</p>
                                                <!-- <button class="btn btn-primary" @click="open_task(task.id)">Open</button> -->
                                            </div>
                                        </div>
                                        <br>
                                    </div>
                                </div>
                              </div>
                            </div>
                            <div class="accordion-item">
                              <h2 class="accordion-header" id="headingTwo">
                                <div class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                  In-Progress: {{stats.in_progress}}
                                </div>
                              </h2>
                              <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                                <div class="accordion-body">
                                    <div class="row" v-for="task in get_status_tasks('IN-PROGRESS')" >
                                        <div class="card card-rounded card-hover-effect-small">
                                            <div class="card-header" @click="open_task(task.id)">
                                                <div class="float-end">
                                                    <small class="fst-italic text-uppercase"
                                                        style="color: grey;">{{task.status}}</small>
                                                    <br>
                                                    <small class="fst-italic text-lowercase"
                                                        v-for="tag in task.tags">{{tag}}</small>
                                                </div>
                                                <h5 class="text-uppercase">{{task.name}}</h5>
                                                <small class="fst-italic text-uppercase"
                                                    style="color: grey;">{{task.category}}</small>
                                            </div>
                                            <div class="card-body" v-if="task.description != '' && show_description">
                                                <strong v-if="task.description != ''">Description:</strong>
                                                <p class="card-text-small fw-light fst-italic">{{ task.description }}</p>
                                                <!-- <button class="btn btn-primary" @click="open_task(task.id)">Open</button> -->
                                            </div>
                                        </div>
                                        <br>
                                    </div>
                                </div>
                              </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingThree">
                                  <div class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    Rework: {{stats.rework}}
                                  </div>
                                </h2>
                                <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                                  <div class="accordion-body">
                                      <div class="row" v-for="task in get_status_tasks('REWORK')" >
                                          <div class="card card-rounded card-hover-effect-small">
                                              <div class="card-header" @click="open_task(task.id)">
                                                  <div class="float-end">
                                                      <small class="fst-italic text-uppercase"
                                                          style="color: grey;">{{task.status}}</small>
                                                      <br>
                                                      <small class="fst-italic text-lowercase"
                                                          v-for="tag in task.tags">{{tag}}</small>
                                                  </div>
                                                  <h5 class="text-uppercase">{{task.name}}</h5>
                                                  <small class="fst-italic text-uppercase"
                                                      style="color: grey;">{{task.category}}</small>
                                              </div>
                                              <div class="card-body" v-if="task.description != '' && show_description">
                                                  <strong v-if="task.description != ''">Description:</strong>
                                                  <p class="card-text-small fw-light fst-italic">{{ task.description }}</p>
                                                  <!-- <button class="btn btn-primary" @click="open_task(task.id)">Open</button> -->
                                              </div>
                                          </div>
                                          <br>
                                      </div>
                                  </div>
                                </div>
                                
                              </div>
                            <div class="accordion-item">
                              <h2 class="accordion-header" id="headingFour">
                                <div class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                  Complete: {{stats.complete}}
                                </div>
                              </h2>
                              <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#accordionExample">
                                <div class="accordion-body">
                                    <div class="row" v-for="task in get_status_tasks('COMPLETE')" >
                                        <div class="card card-rounded card-hover-effect-small">
                                            <div class="card-header" @click="open_task(task.id)">
                                                <div class="float-end">
                                                    <small class="fst-italic text-uppercase"
                                                        style="color: grey;">{{task.status}}</small>
                                                    <br>
                                                    <small class="fst-italic text-lowercase"
                                                        v-for="tag in task.tags">{{tag}}</small>
                                                </div>
                                                <h5 class="text-uppercase">{{task.name}}</h5>
                                                <small class="fst-italic text-uppercase"
                                                    style="color: grey;">{{task.category}}</small>
                                            </div>
                                            <div class="card-body" v-if="task.description != '' && show_description">
                                                <strong v-if="task.description != ''">Description:</strong>
                                                <p class="card-text-small fw-light fst-italic">{{ task.description }}</p>
                                                <!-- <button class="btn btn-primary" @click="open_task(task.id)">Open</button> -->
                                            </div>
                                        </div>
                                        <br>
                                    </div>
                                </div>
                              </div>
                              
                            </div>
                          </div>


                       
                        <br>
                    </div>
                    <div class="container tab" v-if="active_tab == 'task_details'">
                        <br>
                        <h3 v-if="task_selected == false">No task selected.</h3>
                        <div class="btn-group align-start" role="group"><button class="btn btn-outline-light"
                                @click="edit_task = true" v-if="edit_task == false">Edit</button>
                            <button class="btn btn-outline-success" @click="update_task"
                                v-if="edit_task == true">Save</button>
                            <button class="btn btn-outline-info"
                                @click="open_file_manager(active_task.id)">Files</button>
                            <button @click="close_task" class="btn btn-outline-danger">Close</button>
                        </div>
                        <div class="float-end">
                            <button class="btn btn-outline-danger" data-bs-toggle="modal"
                            data-bs-target="#delete_task_modal">Delete Task</button>

                            <div class="modal" id="delete_task_modal">
                                <div class="modal-dialog" role="document">
                                  <div class="modal-content">
                                    <div class="modal-header">
                                      <h5 class="modal-title">Delete Task?</h5>
                                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true"></span>
                                      </button>
                                    </div>
                                    <div class="modal-body">
                                      <p>Are you sure you want to delete this task? This action is irreversible.</p>
                                    </div>
                                    <div class="modal-footer">
                                      <button type="button" class="btn btn-danger" @click="delete_task(active_task.id)" data-bs-dismiss="modal">Delete</button>
                                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                    </div>
                                  </div>
                                </div>
                              </div>
                        </div>
                        <hr>


                        <div class="card card-rounded border-secondary overflow-scroll">
                            <div class="card-header">

                                <br>

                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">Name</span>
                                    </div>
                                    <input class="form-control" type="text" name="name" v-model="active_task.name"
                                        :readonly="edit_task ? false : true">
                                </div>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">Category</span>
                                    </div>
                                    <input class="form-control" type="text" name="name" v-model="active_task.category"
                                        :readonly="edit_task ? false : true">
                                </div>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">Charge Number</span>
                                    </div>
                                    <input class="form-control" type="text" name="name" v-model="active_task.charge_num"
                                        :readonly="edit_task ? false : true">
                                </div>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">Status</span>
                                    </div>
                                    <select class="form-select" aria-label="Default select example"
                                        v-model="active_task.status" :disabled="edit_task ? false : true">
                                        <option value="" selected>Unknown...</option>
                                        <option value="NEW">New</option>
                                        <option value="IN-PROGRESS">In-Progress</option>
                                        <option value="COMPLETE">Complete</option>
                                        <option value="REWORK">Rework</option>

                                    </select>
                                </div>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">Use Local FS</span>
                                    </div>
                                    <input class="form-check-input align-middle" type="checkbox" value=""
                                        v-model="active_task.use_local_fs" :disabled="edit_task ? false : true">
                                </div>
                                <small class="fst-italic">NOTE: Changing task name or category while using local file
                                    system will require files to be moved from old task directory to the new one based
                                    on the updated name and category.</small>
                                <hr>
                                <p class="fw-bold">Created: {{active_task.created}}</p>
                                <p class="fw-bold">Updated: {{active_task.updated}}</p>

                            </div>
                            <div class="card-body overflow-scroll" style="height: 100%">

                                <div class="card border-secondary">
                                    <div id="description" class="card-header">Description</div>
                                    <div class="card-body">
                                        <textarea class="form-control" v-model="active_task.description" rows="3"
                                            :readonly="edit_task ? false : true"></textarea>
                                    </div>
                                </div>
                                <div class="card border-secondary">
                                    <div class="card-header">TVE</div>
                                    <div class="card-body">
                                        <textarea class="form-control" v-model="active_task.tve" rows="3"
                                            :readonly="edit_task ? false : true"></textarea>
                                    </div>
                                </div>
                                <div class="card border-secondary">
                                    <div class="card-header">Notes</div>
                                    <div class="card-body">
                                        <textarea class="form-control" v-model="active_task.notes" rows="20"
                                            :readonly="edit_task ? false : true"></textarea>
                                    </div>
                                </div>
                                <div class="card border-secondary">
                                    <div class="card-header">Todos</div>
                                    <div class="card-body">
                                        <textarea class="form-control" v-model="active_task.todos" rows="10"
                                            :readonly="edit_task ? false : true"></textarea>
                                    </div>
                                </div>





                            </div>
                        </div>



                    </div>
                    <div class="container tab" v-if="active_tab == 'stats'">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th scope="col"></th>
                                    <th scope="col"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Total Tasks</td>
                                    <td>{{tasks.length}}</td>
                                </tr>
                                <tr>
                                    <td>New Tasks</td>
                                    <td>{{stats.new}}</td>
                                </tr>
                                <tr>
                                    <td>In-Progress Tasks</td>
                                    <td>{{stats.in_progress}}</td>
                                </tr>
                                <tr>
                                    <td>Rework Tasks</td>
                                    <td>{{stats.rework}}</td>
                                </tr>
                                <tr>
                                    <td>Completed Tasks</td>
                                    <td>{{stats.complete}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>


        <div class="modal" v-if="new_modal_show" id="new_task_modal" ref="new_task_modal">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div v-if="task_already_exists_error" class="alert alert-danger">
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                        <strong>Task Already Exists!</strong>
                        <p href="#" class="alert-link">A task with the same name
                            and category already exists. Please try again.</p>
                    </div>
                    <div v-if="field_empty_error" class="alert alert-danger">
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                        <strong>Some fields are empty!</strong>
                    </div>
                    <div class="modal-header">
                        <h5 class="modal-title">New Task</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true"></span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Name</span>
                            </div>
                            <input class="form-control" type="text" name="name" v-model="new_task.name">
                        </div>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Category</span>
                            </div>
                            <input class="form-control" type="text" name="name" v-model="new_task.category">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" @click="submit_new_task"
                            v-on:keyup.enter="submit_new_task">Submit</button>
                        <button type="button" class="btn btn-secondary" @click="reset_new_task">Clear</button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"
                            @click="reset_new_task">Close</button>
                        <button type="button" class="close invisible" data-bs-dismiss="modal" aria-label="Close"
                            id="close_new_modal">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <button type="button" class="btn btn-outline-success btn-floating btn-lg" id="btn-back-to-top">

            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up"
                viewBox="0 0 16 16">
                <path fill-rule="evenodd"
                    d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z" />
            </svg>
        </button>

        <h5>active task below</h5>
        <p>{{ active_task }}</p>
        <p>search_str: {{search_str}}</p>
        <p>filtered_tasks: {{filtered_tasks}}</p>
        <p>stats: {{stats}}</p>
    </div>

    <script>
        const { createApp } = Vue

        createApp({
            data() {
                return {
                    test_list: ['tag1', 'tag2', 'tag3'],
                    tasks: [],
                    stats: {"all":0, "new":0, "in_progress":0, "rework":0, "complete":0},
                    show_tasks_container: true,
                    active_tab: 'tasks',
                    task_selected: false,
                    edit_task: false,
                    show_description: true,
                    selected_task_id: null,
                    active_task: {},
                    search_str: "",
                    filtered_tasks: [],
                    ask_delete_task: false,
                    task_already_exists_error: false,
                    field_empty_error: false,
                    new_task: {
                        "name": "",
                        "category": "",
                        "use_local_fs": true,
                        "status":"NEW"
                    },
                    new_modal_show: true,
                    base_url: "http://127.0.0.1:8000"
                }
            },
            methods: {
                async get_all() {
                    await axios.get(this.base_url + '/tasks')
                        .then(response => this.tasks = response.data)
                    this.update_stats()
                },

                open_file_manager(task_id) {
                    if (!this.active_task.use_local_fs) {
                        return
                    }

                    let params = { "id": task_id }
                    axios.get(this.base_url + '/fs/task', { params })

                },

                clear_search_box() {
                    this.filtered_tasks = []
                    this.search_str = ""
                },

                search_tasks() {
                    this.filtered_tasks = []
                    if (this.search_str == '') {
                        return
                    }
                    else if (this.search_str.includes('@status:')) {
                        status = this.search_str.split('@status:')
                        console.log(status.replace(',',''))
                        for (const task of this.tasks) {
                            console.log(task.status.includes(status.replace(',','')))
                            if (task.status.includes(status)) {
                                console.log(task.status)
                                this.filtered_tasks.push(task)
                            }
                        }
                    }
                    else {
                        for (const task of this.tasks) {
                            // console.log(task)
                            // console.log(task.name)
                            // console.log(String(task.name).includes(this.search_str))

                            if ((task.name.includes(this.search_str)) || (task.category.includes(this.search_str)) || (task.description.includes(this.search_str)) || (String(task.notes).includes(this.search_str)) || (String(task.charge_num).includes(this.search_str)) && (String(task.tve).includes(this.search_str))) {
                                this.filtered_tasks.push(task)
                            }
                            else {
                                continue
                            }
                        }
                    }

                },

                task_combo_exists(new_task) {
                    for (const task of this.tasks) {
                        // console.log(task.name)
                        console.log(new_task.name)
                        if ((task.name == new_task.name) && (task.category == new_task.category)) {
                            return true
                        }
                    }
                    return false
                },
                close_new_task_modal() {
                    document.getElementById('close_new_modal').click()
                },
                check_new_modal_empty() {
                    if ((this.new_task.name == "") || (this.new_task.category == "")) {
                        return true
                    }
                    return false
                },

                async submit_new_task() {
                    empty = this.check_new_modal_empty()
                    if (empty) {
                        this.field_empty_error = true
                        return
                    }
                    exists = this.task_combo_exists(this.new_task)
                    console.log(exists)
                    if (exists) {
                        this.task_already_exists_error = true
                        return
                    }
                    const response = await axios.post(this.base_url + '/tasks/new', this.new_task)
                    console.log('submitted')
                    this.active_task = response.data
                    this.task_already_exists_error = false
                    this.field_empty_error = false
                    this.close_new_task_modal()
                    console.log(response)
                    this.edit_task = true
                    this.active_tab = 'task_details'
                    this.reset_new_task()
                    this.get_all()
                },

                async delete_task(id){
                    const request = await axios.post(this.base_url + '/tasks/remove', [id])
                    this.close_task()
                    this.active_tab = 'tasks'
                },

                reset_new_task() {
                    this.new_task = {
                        "name": "",
                        "category": "",
                        "use_local_fs": true,
                        "status":"NEW"
                    }
                },

                update_stats(){
                    this.stats.all = this.tasks.length,
                    stat_new = 0;
                    in_progress = 0;
                    rework = 0;
                    complete= 0;

                    for (const task of this.tasks){
                        
                        switch (task.status){
                            case "NEW":
                                stat_new += 1;
                                break;
                            case "IN-PROGRESS":
                                in_progress += 1;
                                break;
                            case "REWORK":
                                rework += 1;
                                break;
                            case "COMPLETE":
                                complete += 1;
                                break;
                        }
                    }

                    this.stats.new = stat_new;
                    this.stats.in_progress = in_progress;
                    this.stats.rework = rework;
                    this.stats.complete = complete;
                   
                },

                open_tab(name) {
                    if (name == 'tasks') {
                        this.get_all()
                        this.show_tasks_container = true;
                    }
                },

                open_task(id) {
                    console.log(id)
                    this.selected_task_id = id
                    this.task_selected = true
                    this.active_task = this.tasks.find(task => task.id === this.selected_task_id)
                    this.active_tab = 'task_details'
                    backToTop();
                },

                close_task() {
                    this.selected_task_id = null
                    this.task_selected = false
                    this.active_tab = 'tasks'
                    this.active_task = {}
                    this.edit_task = false
                    this.get_all()
                    this.update_stats()
                },

                async update_task() {
                    const response = await axios.post(this.base_url + '/tasks/update', this.active_task)
                    console.log('submitted')
                    this.active_task = response.data
                    console.log(response)
                    this.edit_task = false
                    this.update_stats()
                },

                try_save_task() {
                    if (this.active_task != {} && this.active_tab == 'task_details' && this.edit_task) {
                        this.update_task()
                    }
                },

                get_status_tasks(status){
                    tasks = []
                    for (const task of this.tasks){
                        if (task.status == status){
                            tasks.push(task)
                        }
                    }
                    return tasks
                }
            },

            mounted() {
                this.get_all()
                this.update_stats()

                window.addEventListener('keydown', (e) => {
                    if (e.keyCode == 83 && e.ctrlKey) {
                        e.preventDefault();
                        this.try_save_task()
                    }
                    else if(e.keyCode == 69 && e.ctrlKey){
                        e.preventDefault()
                        if (this.task_selected && this.active_tab == "task_details"){
                            this.edit_task = true;
                        }
                    }
                    // else if()



                })
            }
        }).mount('#app')
    </script>
    <script>
        let mybutton = document.getElementById("btn-back-to-top");

        // When the user scrolls down 20px from the top of the document, show the button
        window.onscroll = function () {
            scrollFunction();
        };

        function scrollFunction() {
            if (
                document.body.scrollTop > 20 ||
                document.documentElement.scrollTop > 20
            ) {
                mybutton.style.display = "block";
            } else {
                mybutton.style.display = "none";
            }
        }
        // When the user clicks on the button, scroll to the top of the document
        mybutton.addEventListener("click", backToTop);

        function backToTop() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
        crossorigin="anonymous"></script>
</body>
<style>
    #btn-back-to-top {
        position: fixed;
        bottom: 20px;
        right: 20px;
        display: none;
    }

    .card-rounded {
        border-radius: 6px;
        padding: 6px;
    }

    .tab {
        outline-width: 2px;
    }

    .input-group>.input-group-prepend {
        flex: 0 0 20%;
    }

    .input-group .input-group-text {
        width: 100%;
    }

    .card-hover-effect .card {
        transition: transform 0.2s ease;
        box-shadow: 0 4px 6px 0 rgba(22, 22, 26, 0.18);
        border-radius: 0;
        border: 0;
        margin-bottom: 1.5em;
    }

    .card-hover-effect:hover {
        transform: scale(1.05);
    }

    .card-hover-effect-small .card {
        transition: transform 0.2s ease;
        box-shadow: 0 4px 6px 0 rgba(230, 230, 238, 0.18);
        border-radius: 0;
        margin-bottom: 1.5em;
    }

    .card-hover-effect-small:hover {
        transform: scale(1.0075);
    }
</style>

</html>